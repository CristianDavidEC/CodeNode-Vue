import{j as m}from"./index.7d37a87d.js";const g=m("program",{state:()=>({idProgram:"",nameProgram:"",descriptionProgram:"",nodesProgram:[],drawflowProgram:{drawflow:{Home:{data:{}}}},pythonCode:""}),getters:{getNode:o=>t=>o.nodesProgram.find(r=>r.nodeId===t)},actions:{addNodeProgram(o){this.nodesProgram.push(o)},removeNodeProgram(o){this.nodesProgram=this.nodesProgram.filter(t=>t.nodeId!==o)},resetProgram(){this.idProgram="",this.nameProgram="",this.descriptionProgram="",this.nodesProgram=[],this.drawflowProgram={drawflow:{Home:{data:{}}}},this.pythonCode=""},setProgram(o){this.idProgram=o.id,this.nameProgram=o.name,this.descriptionProgram=o.description,this.drawflowProgram=JSON.parse(o.drawflow),this.pythonCode="",this.nodesProgram=[]}}}),c=()=>Math.floor(Math.random()*1e10).toString(),P=o=>(o.idProgram=c(),{id:o.idProgram,name:o.nameProgram,description:o.descriptionProgram,nodes:JSON.stringify(o.nodesProgram),drawflow:h(o.drawflowProgram,o.nodesProgram)}),h=(o,t)=>{const r=o.drawflow.Home.data;for(const n in r){const s=r[n],d=t.find(i=>i.nodeId==s.id);s.data=d}return JSON.stringify(o)},p=o=>o().appContext.config.globalProperties.$df.value,e=g(),a="https://18jypoqcu5.execute-api.us-east-1.amazonaws.com/staging",f=async o=>{await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{o(r.getAllPrograms)})},l=async o=>{const t={method:"GET",headers:{"Content-Type":"application/json"}};await fetch(`${a}/{idProgram}`,t).then(r=>r.json()).then(r=>{e.setProgram(r.getProgram[0])})},y=async o=>{let t=P(e);const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};await fetch(`${a}`,r).then(n=>{o(n.status)})},u=async()=>{const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.pythonCode})};await fetch(`${a}/runcode`,o).then(t=>t.json()).then(t=>{e.pythonCode=t.code})};export{f as a,p as b,l as g,u as r,y as s,g as u};
